
# include 文件

## include介绍

`#include` 是一个来自 C 语言的宏命令，它在编译器进行编译之前，即在预编译阶段就会起作用。
`#include` 的作用是把它后面所写的那个文件的内容，完完整整地、一字不改地包含到当前的文件中来。值得一提的是，它本身唯一的作用就是把每一个它出现的地方，在预编译阶段替换成它后面所写的那个文件的内容，即简单的文本替换。

## include "文件名"

```c++
#include "文件名"
```

系统自带的头文件用尖括号括起来，这样编译器会在系统文件目录下查找。

程序编译时,系统首先在源程序所在的目录（当前目录）中寻找被包含的文件；若找不到该文件，再按系统指定的路径搜索其他文件目录。
一般使用于自定义的头文件，让系统优先使用源程序当前目录下的定义。

## include <文件名>

```c++
#include <文件名>
```

程序编译时,将只按照系统指定的路径搜索文件目录。
一般用于标准库\系统头文件。

用户自定义的文件用双引号括起来，编译器首先会在用户目录下查找，然后在到 C++ 安装目录（比如 VC 中可以指定和修改库文件查找路径，Unix 和 Linux 中可以通过环境变量来设定）中查找，最后在系统文件中查找。

## 拓展

### include "xxx.cpp"

- `#include xxx.h` 文件理解为声明。
- `#include xxx.cpp` 文件理解为实现（代码复制拷贝）。

如果.h文件和.cpp文件都已经添加在解决方案里，只要在main的头文件中include对应的.h文件即可。
如果.h文件和.cpp文件不在解决方案里，可能在其他文件夹里，单独include.h文件就会报错“error LNK2019: 无法解析的外部符号”。但是单独include.cpp就能运行了，而此时.cpp里面有没有对应的.h头文件都可以正确运行（因为.h文件里有#pragma once防止多次定义），这个很好解释，include就是把对应的代码拷贝一份进去。拷贝之后，自定义函数的定义本来就在使用前，有没有头文件的声明都可以。为了验证include是不是就是将程序拷贝，做了实验验证。在自定义函数使用前#include“XXX.h”用于函数的声明，在main函数结束之后#include“XXX.cpp”，运行果然正确。
初步结论：说明当.h文件和.cpp文件不在解决方案里的时候，#include就是纯粹的拷贝复制工作。但是当h和cpp文件在解决方案的情况需要进一步验证。同时也说明，cpp文件有没有包含进工程文件的情况是不同的。

- https://mp.weixin.qq.com/s/NVEZnF1HqpIMSBlw_PXwyA
- https://blog.csdn.net/u011913417/article/details/100183653

### include "xxx.hpp"

现代C++项目中的头文件和源文件的差别已经不太大，这与最初声明和实现分离的想法可谓背道而驰。
从源码阅读的效率上来说，为了避免在头文件和源文件的声明和实现之间切换，便推出了新的文件类型`xxx.hpp`。可以理解为头文件和和源文件的统一。
至于项目中怎么取舍，最终还是由软件需求和架构来统一。

### 包
C++20提出包的概念，类似Java/Python导入包(lib)。
